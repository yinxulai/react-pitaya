{"version":3,"file":"index.js","sources":["../../src/hooks/platform.ts"],"sourcesContent":["import React from 'react'\n\nexport default function usePlatform() {\n\n    const [size, setSize] = React.useState({\n        isMobile: false, // 移动设备\n        isPortrait: false, // 竖屏\n        isLandscape: false, // 横屏\n        width: 0, // 宽\n        height: 0, // 高\n        isLarge: false,\n        isSmall: false\n    })\n\n    const onResize = React.useCallback(() => {\n        if (!window) {\n            throw Error('window is not defined')\n        }\n\n        if (!window.document) {\n            throw Error('window.document is not defined')\n        }\n\n        const document = window.document\n\n        if (!document.documentElement) {\n            throw Error('document.documentElement is not defined')\n        }\n\n        const documentElement = document.documentElement\n        const { clientWidth = 0, clientHeight = 0 } = documentElement\n\n\n        setSize({\n            width: clientWidth,\n            height: clientHeight,\n            isMobile: isMobile(),\n            isSmall: clientWidth <= 900,\n            isLarge: clientWidth >= 1920,\n            isPortrait: clientHeight >= clientWidth,\n            isLandscape: clientHeight < clientWidth,\n        })\n    }, [])\n\n    React.useEffect(() => {\n        onResize()\n        window.addEventListener('resize', onResize);\n        return (() => window.removeEventListener('resize', onResize))\n    }, [])\n\n    return size;\n}\n\n\nfunction isMobile() {\n    if (!navigator) {\n        throw Error('navigator is not defined')\n    }\n\n    if (!navigator.userAgent) {\n        throw Error('navigator.userAgent is not defined')\n    }\n\n    const matchs = navigator.userAgent.match(\n        /(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/i\n    )\n\n    return !!(matchs && matchs.length)\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAEwB,WAAW;IAE/B,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC;QACnC,QAAQ,EAAE,KAAK;QACf,UAAU,EAAE,KAAK;QACjB,WAAW,EAAE,KAAK;QAClB,KAAK,EAAE,CAAC;QACR,MAAM,EAAE,CAAC;QACT,OAAO,EAAE,KAAK;QACd,OAAO,EAAE,KAAK;KACjB,CAAC,CAAA;IAEF,MAAM,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC;QAC/B,IAAI,CAAC,MAAM,EAAE;YACT,MAAM,KAAK,CAAC,uBAAuB,CAAC,CAAA;SACvC;QAED,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;YAClB,MAAM,KAAK,CAAC,gCAAgC,CAAC,CAAA;SAChD;QAED,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAA;QAEhC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE;YAC3B,MAAM,KAAK,CAAC,yCAAyC,CAAC,CAAA;SACzD;QAED,MAAM,eAAe,GAAG,QAAQ,CAAC,eAAe,CAAA;QAChD,MAAM,EAAE,WAAW,GAAG,CAAC,EAAE,YAAY,GAAG,CAAC,EAAE,GAAG,eAAe,CAAA;QAG7D,OAAO,CAAC;YACJ,KAAK,EAAE,WAAW;YAClB,MAAM,EAAE,YAAY;YACpB,QAAQ,EAAE,QAAQ,EAAE;YACpB,OAAO,EAAE,WAAW,IAAI,GAAG;YAC3B,OAAO,EAAE,WAAW,IAAI,IAAI;YAC5B,UAAU,EAAE,YAAY,IAAI,WAAW;YACvC,WAAW,EAAE,YAAY,GAAG,WAAW;SAC1C,CAAC,CAAA;KACL,EAAE,EAAE,CAAC,CAAA;IAEN,KAAK,CAAC,SAAS,CAAC;QACZ,QAAQ,EAAE,CAAA;QACV,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAC5C,QAAQ,MAAM,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAC;KAChE,EAAE,EAAE,CAAC,CAAA;IAEN,OAAO,IAAI,CAAC;AAChB,CAAC;AAGD,SAAS,QAAQ;IACb,IAAI,CAAC,SAAS,EAAE;QACZ,MAAM,KAAK,CAAC,0BAA0B,CAAC,CAAA;KAC1C;IAED,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;QACtB,MAAM,KAAK,CAAC,oCAAoC,CAAC,CAAA;KACpD;IAED,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,CAAC,KAAK,CACpC,8GAA8G,CACjH,CAAA;IAED,OAAO,CAAC,EAAE,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,CAAA;AACtC;;;;"}