{"version":3,"file":"index.js","sources":["../../src/hooks/platform.ts"],"sourcesContent":["import React from 'react'\n\nexport default function usePlatform() {\n\n    const [size, setSize] = React.useState({\n        isMobile: false, // 移动设备\n        isPortrait: false, // 竖屏\n        isLandscape: false, // 横屏\n        width: 0, // 宽\n        height: 0, // 高\n        isLarge: false,\n        isSmall: false\n    })\n\n    const onResize = React.useCallback(() => {\n        if (!window) {\n            throw Error('window is not defined')\n        }\n\n        if (!window.document) {\n            throw Error('window.document is not defined')\n        }\n\n        const document = window.document\n\n        if (!document.documentElement) {\n            throw Error('document.documentElement is not defined')\n        }\n\n        const documentElement = document.documentElement\n        const { clientWidth = 0, clientHeight = 0 } = documentElement\n\n\n        setSize({\n            width: clientWidth,\n            height: clientHeight,\n            isMobile: isMobile(),\n            isSmall: clientWidth <= 900,\n            isLarge: clientWidth >= 1920,\n            isPortrait: clientHeight >= clientWidth,\n            isLandscape: clientHeight < clientWidth,\n        })\n    }, [])\n\n    React.useEffect(() => {\n        onResize()\n        window.addEventListener('resize', onResize);\n        return (() => window.removeEventListener('resize', onResize))\n    }, [])\n\n    return size;\n}\n\n\nfunction isMobile() {\n    if (!navigator) {\n        throw Error('navigator is not defined')\n    }\n\n    if (!navigator.userAgent) {\n        throw Error('navigator.userAgent is not defined')\n    }\n\n    const matchs = navigator.userAgent.match(\n        /(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/i\n    )\n\n    return !!(matchs && matchs.length)\n}"],"names":["isMobile","navigator","Error","userAgent","matchs","match","length","size","setSize","React","useState","isPortrait","isLandscape","width","height","isLarge","isSmall","onResize","useCallback","window","document","documentElement","clientWidth","clientHeight","useEffect","addEventListener","removeEventListener"],"mappings":"+PAsDA,SAASA,IACL,IAAKC,UACD,MAAMC,MAAM,4BAGhB,IAAKD,UAAUE,UACX,MAAMD,MAAM,sCAGhB,MAAME,EAASH,UAAUE,UAAUE,MAC/B,gHAGJ,SAAUD,IAAUA,EAAOE,8EA/D3B,MAAOC,EAAMC,GAAWC,EAAMC,SAAS,CACnCV,UAAU,EACVW,YAAY,EACZC,aAAa,EACbC,MAAO,EACPC,OAAQ,EACRC,SAAS,EACTC,SAAS,IAGPC,EAAWR,EAAMS,YAAY,KAC/B,IAAKC,OACD,MAAMjB,MAAM,yBAGhB,IAAKiB,OAAOC,SACR,MAAMlB,MAAM,kCAGhB,MAAMkB,EAAWD,OAAOC,SAExB,IAAKA,EAASC,gBACV,MAAMnB,MAAM,2CAGhB,MAAMmB,EAAkBD,EAASC,iBAC3BC,YAAEA,EAAc,EAACC,aAAEA,EAAe,GAAMF,EAG9Cb,EAAQ,CACJK,MAAOS,EACPR,OAAQS,EACRvB,SAAUA,IACVgB,QAASM,GAAe,IACxBP,QAASO,GAAe,KACxBX,WAAYY,GAAgBD,EAC5BV,YAAaW,EAAeD,KAEjC,IAQH,OANAb,EAAMe,UAAU,KACZP,IACAE,OAAOM,iBAAiB,SAAUR,OACpBE,OAAOO,oBAAoB,SAAUT,IACpD,IAEIV"}